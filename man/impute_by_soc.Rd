% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/api.R
\name{impute_by_soc}
\alias{impute_by_soc}
\title{Impute missing values by SOC hierarchy}
\usage{
impute_by_soc(data, var, new_var = NULL, soc_key = "soc2018_code")
}
\arguments{
\item{data}{A data.frame with SOC codes and a variable to impute}

\item{var}{Character name of the variable to impute}

\item{new_var}{Character name for the imputed column (default: var_with_imputed)}

\item{soc_key}{Character name of the SOC code column (default: "soc2018_code")}
}
\value{
tibble with imputed values and impute level indicator.
The impute level column indicates: 0 = original value, 2 = imputed from 2-digit,
3 = imputed from 3-digit, 5 = imputed from 5-digit.
}
\description{
Imputes missing values in a variable by averaging from higher-level SOC groups.
SOC codes follow the format XX-XXXX (6 digits total, e.g., "11-1011").
Imputation proceeds from more specific to more general levels:
5-digit Broad Occupation (e.g., "11-101"), then 3-digit Minor Group (e.g., "11-1"),
then 2-digit Major Group (e.g., "11").
}
\examples{
\dontrun{
# Load employment projections
emp <- load_employment_projections()

# Impute missing wage values using SOC hierarchy
imputed <- impute_by_soc(emp, "median_annual_wage_2024")

# Check imputation levels
table(imputed$median_annual_wage_2024_with_imputed_impute_level)
}
}
\seealso{
\code{\link{impute_by_isco}} for ISCO-based imputation
}
